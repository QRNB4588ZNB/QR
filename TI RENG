local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")

-- è¸¢å‡ºåŠŸèƒ½å‡½æ•°
local function KickPlayer(targetName, kickMessage)
    local message = kickMessage or "ä½ å·²è¢«è¸¢å‡ºæ¸¸æˆ"
    local kicked = false    
    if not targetName or targetName == "" then
        local localPlayer = Players.LocalPlayer
        if localPlayer then
            localPlayer:Kick(message)
            print("å·²è¸¢å‡ºè‡ªå·±: " .. localPlayer.Name)
            return true
        end
        return false
    end   
    for _, player in ipairs(Players:GetPlayers()) do
        if player.Name == targetName then
            player:Kick(message)
            print("å·²è¸¢å‡ºç©å®¶: " .. player.Name)
            kicked = true
            break
        end
    end    
    if not kicked then
        print("æœªæ‰¾åˆ°ç©å®¶: " .. targetName)
    end    
    return kicked
end

-- åˆ›å»ºä¸»ç•Œé¢
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "KickAlertGui"
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.Parent = Players.LocalPlayer:WaitForChild("PlayerGui")

-- åˆ›å»ºä¸»å®¹å™¨ï¼ˆç¼©å°50%ï¼Œä»å±å¹•å³ä¾§å¼€å§‹ï¼‰
local MainFrame = Instance.new("Frame")
MainFrame.Name = "KickAlert"
MainFrame.Size = UDim2.new(0, 160, 0, 100) -- ç¼©å°50%
MainFrame.Position = UDim2.new(1, 10, 0, 10) -- ä»å±å¹•å³ä¾§å¤–å¼€å§‹
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
MainFrame.BackgroundTransparency = 0.2 -- åŠé€æ˜æ•ˆæœ
MainFrame.BorderSizePixel = 0
MainFrame.ClipsDescendants = true

-- æ·»åŠ åœ†è§’
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 8) -- ç¼©å°åœ†è§’
UICorner.Parent = MainFrame

-- æ·»åŠ é˜´å½±æ•ˆæœ
local UIStroke = Instance.new("UIStroke")
UIStroke.Color = Color3.fromRGB(100, 100, 150)
UIStroke.Thickness = 1 -- ç¼©å°è¾¹æ¡†
UIStroke.Transparency = 0.3
UIStroke.Parent = MainFrame

-- æ ‡é¢˜æ 
local TitleFrame = Instance.new("Frame")
TitleFrame.Size = UDim2.new(1, 0, 0, 20) -- ç¼©å°é«˜åº¦
TitleFrame.Position = UDim2.new(0, 0, 0, 0)
TitleFrame.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
TitleFrame.BackgroundTransparency = 0.1
TitleFrame.BorderSizePixel = 0
TitleFrame.Parent = MainFrame

local TitleCorner = Instance.new("UICorner")
TitleCorner.CornerRadius = UDim.new(0, 8)
TitleCorner.Parent = TitleFrame

local TitleLabel = Instance.new("TextLabel")
TitleLabel.Size = UDim2.new(1, -10, 1, 0)
TitleLabel.Position = UDim2.new(0, 5, 0, 0) -- è°ƒæ•´è¾¹è·
TitleLabel.BackgroundTransparency = 1
TitleLabel.Text = "ç§‹å®¹æé†’"
TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.TextSize = 10 -- ç¼©å°å­—ä½“
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.TextXAlignment = Enum.TextXAlignment.Left
TitleLabel.Parent = TitleFrame

-- å†…å®¹åŒºåŸŸ
local ContentFrame = Instance.new("Frame")
ContentFrame.Size = UDim2.new(1, -10, 1, -50) -- è°ƒæ•´å°ºå¯¸
ContentFrame.Position = UDim2.new(0, 5, 0, 25) -- è°ƒæ•´ä½ç½®
ContentFrame.BackgroundTransparency = 1
ContentFrame.Parent = MainFrame

-- æ·»åŠ æ–‡æœ¬å†…å®¹
local ContentLabel = Instance.new("TextLabel")
ContentLabel.Size = UDim2.new(1, 0, 1, 0)
ContentLabel.Position = UDim2.new(0, 0, 0, 0)
ContentLabel.BackgroundTransparency = 1
ContentLabel.Text = "å¥–åŠ±ä½ ä»¬è¢«è¸¢ä¸€æ¬¡ï¼Œæ˜¯å¦åŒæ„ï¼ŸğŸ¤“"
ContentLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
ContentLabel.TextSize = 8 -- ç¼©å°å­—ä½“
ContentLabel.Font = Enum.Font.Gotham
ContentLabel.TextWrapped = true
ContentLabel.TextYAlignment = Enum.TextYAlignment.Top
ContentLabel.Parent = ContentFrame

-- æŒ‰é’®å®¹å™¨
local ButtonFrame = Instance.new("Frame")
ButtonFrame.Size = UDim2.new(1, -10, 0, 20) -- è°ƒæ•´å°ºå¯¸
ButtonFrame.Position = UDim2.new(0, 5, 1, -25) -- è°ƒæ•´ä½ç½®
ButtonFrame.BackgroundTransparency = 1
ButtonFrame.Parent = MainFrame

-- å–æ¶ˆæŒ‰é’®ï¼ˆå·¦è¾¹ï¼‰
local CancelButton = Instance.new("TextButton")
CancelButton.Size = UDim2.new(0.45, 0, 1, 0)
CancelButton.Position = UDim2.new(0, 0, 0, 0)
CancelButton.BackgroundColor3 = Color3.fromRGB(80, 80, 100)
CancelButton.BackgroundTransparency = 0.3
CancelButton.Text = "å–æ¶ˆ"
CancelButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CancelButton.TextSize = 8 -- ç¼©å°å­—ä½“
CancelButton.Font = Enum.Font.GothamBold
CancelButton.Parent = ButtonFrame

local CancelCorner = Instance.new("UICorner")
CancelCorner.CornerRadius = UDim.new(0, 4) -- ç¼©å°åœ†è§’
CancelCorner.Parent = CancelButton

-- è¸¢å‡ºæŒ‰é’®ï¼ˆå³è¾¹ï¼‰
local KickButton = Instance.new("TextButton")
KickButton.Size = UDim2.new(0.45, 0, 1, 0)
KickButton.Position = UDim2.new(0.55, 0, 0, 0)
KickButton.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
KickButton.BackgroundTransparency = 0.2
KickButton.Text = "è¸¢å‡º"
KickButton.TextColor3 = Color3.fromRGB(255, 255, 255)
KickButton.TextSize = 8 -- ç¼©å°å­—ä½“
KickButton.Font = Enum.Font.GothamBold
KickButton.Parent = ButtonFrame

local KickCorner = Instance.new("UICorner")
KickCorner.CornerRadius = UDim.new(0, 4) -- ç¼©å°åœ†è§’
KickCorner.Parent = KickButton

-- å°†ä¸»ç•Œé¢æ·»åŠ åˆ°å±å¹•
MainFrame.Parent = ScreenGui

-- åˆ›å»ºæ»‘åŠ¨åŠ¨ç”»
local function slideIn()
    local targetPosition = UDim2.new(1, -170, 0, 10) -- æ»‘åŠ¨åˆ°å³ä¸Šè§’ï¼Œè°ƒæ•´ä½ç½®
    local tweenInfo = TweenInfo.new(
        0.8, -- æŒç»­æ—¶é—´
        Enum.EasingStyle.Quad, -- ç¼“åŠ¨æ ·å¼
        Enum.EasingDirection.Out -- ç¼“åŠ¨æ–¹å‘
    )
    
    local tween = TweenService:Create(MainFrame, tweenInfo, {Position = targetPosition})
    tween:Play()
end

-- æŒ‰é’®åŠŸèƒ½
CancelButton.MouseButton1Click:Connect(function()
    -- ç‚¹å‡»å–æ¶ˆæŒ‰é’®ï¼Œæ»‘åŠ¨å‡ºå»å¹¶ç§»é™¤ç•Œé¢
    local tweenOut = TweenService:Create(
        MainFrame, 
        TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), 
        {Position = UDim2.new(1, 10, 0, 10)}
    )
    tweenOut:Play()
    tweenOut.Completed:Connect(function()
        ScreenGui:Destroy()
    end)
end)

KickButton.MouseButton1Click:Connect(function()
    -- ç‚¹å‡»è¸¢å‡ºæŒ‰é’®ï¼Œæ‰§è¡Œè¸¢å‡ºé€»è¾‘
    print("æ‰§è¡Œè¸¢å‡ºæ“ä½œ")
    
    -- å…ˆå…³é—­UI
    local tweenOut = TweenService:Create(
        MainFrame, 
        TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), 
        {Position = UDim2.new(1, 10, 0, 10)}
    )
    tweenOut:Play()
    tweenOut.Completed:Connect(function()
        ScreenGui:Destroy()
    end)
    
    -- å»¶è¿Ÿä¸€å°æ®µæ—¶é—´åæ‰§è¡Œè¸¢å‡º
    wait(0.5)
    
    -- è°ƒç”¨è¸¢å‡ºå‡½æ•°
    KickPlayer("", "ä½ å·²è¿è§„ï¼Œå·²è¢«è¸¢å‡º")
end)

-- å¯åŠ¨åŠ¨ç”»
slideIn()

-- å¯é€‰ï¼šæ·»åŠ é¼ æ ‡æ‚¬åœæ•ˆæœ
local function addHoverEffect(button, originalColor, hoverColor)
    local originalTransparency = button.BackgroundTransparency
    
    button.MouseEnter:Connect(function()
        button.BackgroundTransparency = originalTransparency - 0.1
    end)
    
    button.MouseLeave:Connect(function()
        button.BackgroundTransparency = originalTransparency
    end)
end

addHoverEffect(CancelButton, Color3.fromRGB(80, 80, 100), Color3.fromRGB(100, 100, 130))
addHoverEffect(KickButton, Color3.fromRGB(200, 60, 60), Color3.fromRGB(220, 80, 80))

-- å°†è¸¢å‡ºå‡½æ•°è®¾ä¸ºå…¨å±€ï¼Œä»¥ä¾¿å…¶ä»–è„šæœ¬ä½¿ç”¨
_G.KickPlayer = KickPlayer
